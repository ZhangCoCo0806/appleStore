<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>apple二手交易平台</title>
    <!-- 开发环境版本，包含了有帮助的命令行警告 -->
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
          integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"
            integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/swiper-3.4.2.min.css">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
</head>
<body>
<div id="app">
    <div class="header-title">
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                            data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand glyphicon glyphicon-plane" href="index">
                        <span></span>
                    </a>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class=""><a href="index">首页 <span class="sr-only">(current)</span></a></li>
                    </ul>
                    <ul class="nav navbar-nav">
                        <li v-for="type in goodsType">
                            <a @click="getGoodsByTypeId(type.id)">{{type.typename}}</a>
                        </li>
                    </ul>
                    <form class="navbar-form navbar-left">
                        <div class="form-group">
                            <input type="text" class="form-control searchGoods" placeholder="搜索商品">
                        </div>
                        <button @click="searchGoodsByGoodsName" type="button" class="btn btn-default">搜索</button>
                    </form>
                    <ul class="nav navbar-nav navbar-right" th:if="${session.userLoginName}">
                        <li>
                            <a href="#">欢迎您:[[${session.userLoginName}]]</a>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle personal-center" data-toggle="dropdown" role="button"
                               aria-haspopup="true" aria-expanded="false">个人中心 <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li class="btnSelf" @click="showSelfInfos"><a href="#"><span
                                        class="glyphicon glyphicon-fire"></span>&nbsp;&nbsp;修改个人信息</a></li>
                                <li class="checkUserInfo" @click="getUserData"><a href="#"><span
                                        class="glyphicon glyphicon-fire"></span>&nbsp;&nbsp;查看个人详细信息</a></li>
                                <li class="insertAddress"><a href="#"><span class="glyphicon glyphicon-globe"></span>&nbsp;&nbsp;添加地址信息</a>
                                </li>
                                <li class="showPushGoods"><a href="#"><span class="glyphicon glyphicon-apple"></span>&nbsp;&nbsp;发布商品</a>
                                </li>
                                <li class="showAllUserGoods" @click="showAllUserGoods"><a href="#"><span
                                        class="glyphicon glyphicon-flash"></span>&nbsp;&nbsp;查看已发布</a></li>
                                <li><a href="goods/showCart2"><span class="glyphicon glyphicon-shopping-cart"></span>&nbsp;&nbsp;查看购物车</a>
                                </li>
                                <li class="order_goods" @click="orderShow"><a href="#"><span
                                        class="glyphicon glyphicon-shopping-cart"></span>&nbsp;&nbsp;查看订单</a></li>
                                <li class="updatePassBtn" @Click="updatePass"><a href="#"><span
                                        class="glyphicon glyphicon glyphicon-lock"></span>&nbsp;&nbsp;修改密码</a></li>
                                <li><a href="logOut"><span class="glyphicon glyphicon glyphicon-off"></span>&nbsp;&nbsp;退出</a>
                                </li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#"><span class="glyphicon glyphicon-cog"></span>&nbsp;&nbsp;其他</a></li>
                            </ul>
                        </li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right" th:unless="${session.userLoginName}">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                               aria-haspopup="true" aria-expanded="false">请登录或注册 <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="toLogin">登录</a></li>
                                <li><a class="signBtn">注册</a></li>
                            </ul>
                        </li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
        <div class="modal fade userSign" tabindex="1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">用户注册</h4>
                    </div>
                    <div class="modal-body">
                        <form action="" method="post">
                            <div class="form-group has-feedback">
                                <!--                                <label class="control-label" for="userName">请设置用户名</label>-->
                                <label class="control-label" for="userName">请输入账号</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                    <input type="text" onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                           v-model.trim="userInfo.userAccount" class="form-control checkEmpty"
                                           id="userName"
                                           placeholder="请输入账号" aria-describedby="inputGroupSuccess1Status">
                                </div>
                            </div>
                            <div class="form-group has-feedback">
                                <!--                                <label class="control-label" for="userPass1">请设置登录密码</label>-->
                                <label class="control-label" for="userPass1">请输入密码</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                    <input type="password" onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                           v-model.trim="userInfo.userPass" class="form-control checkEmpty"
                                           id="userPass1"
                                           placeholder="请输入密码" aria-describedby="inputGroupSuccess1Status">
                                </div>
                            </div>
                            <div class="form-group has-feedback">
                                <!--                                <label class="control-label" for="userPass2">请再次输入密码</label>-->
                                <label class="control-label" for="userPass2">请再次输入密码</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                    <input type="password" onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                           class="form-control checkEmpty" id="userPass2" placeholder="请再次输入密码"
                                           aria-describedby="inputGroupSuccess1Status">
                                </div>
                            </div>
                            <div class="form-group has-feedback">
                                <label class="control-label" for="userEmail">请输入您的QQ邮箱</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                                    <input type="email" onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                           v-model.trim="userInfo.email" class="form-control checkEmpty" id="userEmail"
                                           placeholder="请输入您的QQ邮箱" aria-describedby="inputGroupSuccess1Status">
                                </div>
                            </div>
                            <div class="form-group has-feedback">
                                <label class="control-label" for="userEmailCode">请输入验证码</label>
                                <div class="input-group col-xs-6">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                                    <input type="text" @blur="checkEmailCode" ref="getCode"
                                           onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                           class="form-control checkEmpty" id="userEmailCode" placeholder="请输入验证码"
                                           aria-describedby="inputGroupSuccess1Status">
                                </div>
                                <div id="sendEmailBtn">
                                    <el-button @click="sendEmail" type="info">发送验证码至邮箱</el-button>
                                </div>
                            </div>
                            <div class="form-group has-feedback">
                                <label class="control-label" for="userPhone">请输入您的手机号</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-phone-alt"></i></span>
                                    <input type="text" onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                           v-model.trim="userInfo.phone" class="form-control checkEmpty" id="userPhone"
                                           placeholder="请输入您的手机号" aria-describedby="inputGroupSuccess1Status">
                                </div>
                            </div>
                            <button type="button" @click="sendUserInfo" class="btn userIn btn-primary"
                                    data-toggle="tooltip" data-placement="top" title="同意获取您的信息">确认注册
                            </button>
                            <button type="button" class="btn btn-default" data-dismiss="modal" data-toggle="tooltip"
                                    data-placement="top" title="确认取消注册?">取消注册
                            </button>
                        </form>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        <div class="modal fade userInfoMo" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">修改个人信息</h4>
                    </div>
                    <div class="modal-body">
                        <h3>修改头像</h3>
                        <div class="user_img">
                            <img id="userHeadImages" src="" alt="" class="img-circle">
                        </div>
                        <p><input type="file" class="fileInputImg"></p>
                        <el-button @click="upLoadUserImg" type="primary">确认修改头像</el-button>
                        <form>
                            <div class="form-group">
                                <label for="birth">生日</label>
                                <input type="date" class="form-control" id="birth" v-model="userInfos.birth"
                                       placeholder="生日">
                            </div>
                            <div class="form-group">
                                <label for="age">年龄</label>
                                <input type="number" class="form-control" v-model="userInfos.age" id="age"
                                       placeholder="年龄">
                            </div>
                            <div class="form-group">
                                <label for="age">性别:</label>

                                <label for="nan">男</label><input type="radio" v-model="userInfos.sex" value="男" id="nan"
                                                                 name="sex">
                                <label for="nv">女</label><input type="radio" v-model="userInfos.sex" value="女" id="nv"
                                                                name="sex">
                            </div>
                            <div class="form-group">
                                <label for="hobbies">兴趣爱好</label>
                                <input type="text" class="form-control" v-model="userInfos.hobbies" id="hobbies"
                                       placeholder="兴趣爱好">
                            </div>
                            <div class="form-group">
                                <label for="introduce">个人介绍</label>
                                <textarea id="introduce" v-model="userInfos.introduce" placeholder="个人介绍"></textarea>
                            </div>
                            <el-button @click="sendUserInfos" type="success" round
                                       v-loading.fullscreen.lock="fullscreenLoading">提交
                            </el-button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        <div class="modal fade checkUserInfos" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">基本信息</h4>
                        <img id="selfImage" :src="userData.userHeadImage" class="img-circle">
                    </div>
                    <div class="modal-body">
                        <div>
                            <el-descriptions class="margin-top" title="" :column="3" border>
                                <el-descriptions-item>
                                    <template slot="label">
                                        <i class="el-icon-user"></i>
                                        用户名
                                    </template>
                                    {{userData.userAccount}}
                                </el-descriptions-item>
                                <el-descriptions-item>
                                    <template slot="label">
                                        <i class="el-icon-mobile-phone"></i>
                                        手机号
                                    </template>
                                    {{userData.userPhone}}
                                </el-descriptions-item>
                                <el-descriptions-item>
                                    <template slot="label">
                                        <i class="el-icon-s-promotion"></i>
                                        邮箱
                                    </template>
                                    {{userData.userEmail}}
                                </el-descriptions-item>
                                <el-descriptions-item>
                                    <template slot="label">
                                        <i class="el-icon-loading"></i>
                                        注册日期
                                    </template>
                                    {{userData.userJoinData}}
                                </el-descriptions-item>
                                <el-descriptions-item>
                                    <template slot="label">
                                        <i class="el-icon-loading"></i>
                                        生日
                                    </template>
                                    {{userData.userBirth}}
                                </el-descriptions-item>
                                <el-descriptions-item>
                                    <template slot="label">
                                        <i class="el-icon-loading"></i>
                                        年龄
                                    </template>
                                    {{userData.userAge}}
                                </el-descriptions-item>
                                <el-descriptions-item>
                                    <template slot="label">
                                        <i class="el-icon-loading"></i>
                                        会员等级
                                    </template>
                                    <span v-if="userData.userRole=='vip1'"><i class="roleLeave"><img
                                            src="http://apple-shop-all-images.oss-cn-beijing.aliyuncs.com/uservipleavel/%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9-aerospace-%E5%AE%87%E8%88%AA%E5%91%98-a.png"></i><span
                                            style="color: #F56C6C">白银</span></span>
                                    <span v-else-if="userData.userRole=='vip2'"><i class="roleLeave"><img
                                            src="http://apple-shop-all-images.oss-cn-beijing.aliyuncs.com/uservipleavel/%E7%BB%BF%E5%B7%A8%E4%BA%BA.png"></i><span
                                            style="color: #F56C6C">黄金</span></span>
                                    <span v-else-if="userData.userRole=='vip3'"><i class="roleLeave"><img
                                            src="http://apple-shop-all-images.oss-cn-beijing.aliyuncs.com/uservipleavel/%E8%B6%85%E4%BA%BA.png"></i><span
                                            style="color: #F56C6C">铂金</span></span>
                                </el-descriptions-item>
                            </el-descriptions>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div><!-- /.modal -->
        <div class="modal fade userAddress" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">添加地址信息</h4>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="province">请输入所在省份</label>
                                <input v-model="userAddress.provice" type="email" class="form-control" id="province"
                                       placeholder="如:甘肃省">
                            </div>
                            <div class="form-group">
                                <label for="city">请输入所在市</label>
                                <input v-model="userAddress.city" type="text" class="form-control" id="city"
                                       placeholder="如:兰州市">
                            </div>
                            <div class="form-group">
                                <label for="county">请输入所在区县</label>
                                <input v-model="userAddress.county" type="text" class="form-control" id="county"
                                       placeholder="如:永登县">
                            </div>
                            <div class="form-group">
                                <label for="address">请输入详细地址</label>
                                <input v-model="userAddress.detailedAddress" type="text" class="form-control"
                                       id="address" placeholder="如:城关镇人民街102号">
                            </div>
                            <el-button @click="sendUserAddress" type="primary">上传地址信息<i
                                    class="el-icon-upload el-icon--right"></i></el-button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        <div class="modal fade insertGoods" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">发布商品</h4>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="goodsName">请输入商品名称</label>
                                <input type="text" v-model="insertGoods.goodsName" class="form-control checkGoods"
                                       id="goodsName" placeholder="请输入商品名称">
                            </div>
                            <div class="form-group">
                                <label for="goodsPrice">请输入商品价格</label>
                                <input type="number" v-model="insertGoods.goodsPrice" class="form-control checkGoods"
                                       id="goodsPrice" placeholder="请输入商品价格">
                            </div>
                            <div class="form-group">
                                <label for="goodsText">请输入商品描述信息</label>
                                <input type="text" v-model="insertGoods.goodsText" class="form-control checkGoods"
                                       id="goodsText" placeholder="请输入商品描述信息">
                            </div>
                            <div class="form-group">
                                <label for="goodsStar">请选择商品星级</label>
                                <el-rate v-model="insertGoods.goodsStar" show-text></el-rate>
                            </div>
                            <div class="form-group">
                                <label for="goodsTypeName">请选择商品所属类别</label>
                                <el-select v-model="insertGoods.goodsType" placeholder="请选择">
                                    <el-option v-for="type in goodsType" :key="type.id" :label="type.typename"
                                               :value="type.id">
                                    </el-option>
                                </el-select>
                            </div>
                            <div class="form-group">
                                <label for="goodsImg">请选择商品图片</label>
                                <input type="file" class="fileImages checkGoods" multiple="multiple" id="goodsImg">
                                <p class="help-block">至少五张商品相关图片</p>
                            </div>
                            <button @click="insertGoodsInfos" type="button" class="btn btn-default">发布</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        <div class="modal fade showUserGoods" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">已发布的商品</h4>
                    </div>
                    <div class="modal-body">
                        <div class="user_Goods">
                            <ul>
                                <li v-for="g in userOtherGoods">
                                    <a :href="'goods/getGoodsById?gid='+g.id">
                                        <p>{{g.goodsName}}</p>
                                        <img :src="g.goodsImages[0].imgUrl">
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        <div class="modal fade showOrder" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">已购买的商品</h4>
                    </div>
                    <div class="modal-body">
                        <div class="order_box">
                            <template>
                                <el-table :data="orderTable" height="500" border style="width: 100%">
                                    <el-table-column fixed prop="goodsName" align="center" label="商品名称"
                                                     width="150"></el-table-column>
                                    <el-table-column prop="imgUrl" align="center" label="商品图片" width="120">
                                        <template slot-scope="scope">
                                            <el-popover placement="top-start" title="" trigger="hover">
                                                <img :src="scope.row.imgUrl" alt="" style="width: 150px;height: 150px">
                                                <img slot="reference" :src="scope.row.imgUrl"
                                                     style="width: 30px;height: 30px">
                                            </el-popover>
                                        </template>
                                    </el-table-column>
                                    <el-table-column prop="goodsPrice" align="center" label="商品价格"
                                                     width="120"></el-table-column>
                                    <el-table-column prop="goodsDate" align="center" label="上架日期"
                                                     width="160"></el-table-column>
                                    <el-table-column prop="orderNum" align="center" label="订单编号"
                                                     width="300"></el-table-column>
                                    <el-table-column prop="buyTime" align="center" label="下单日期"
                                                     width="160"></el-table-column>
                                    <el-table-column prop="account" align="center" label="卖家账号"
                                                     width="120"></el-table-column>
                                    <el-table-column prop="phone" align="center" label="卖家电话"
                                                     width="120"></el-table-column>
                                    <!--<el-table-column fixed="right" align="center" label="操作" width="100">
                                        <template slot-scope="scope">
                                            <el-button @click="handleClick(scope.row)" type="text" size="small">查看</el-button>
                                            <el-button type="text" size="small">编辑</el-button>
                                        </template>
                                    </el-table-column>-->
                                </el-table>
                            </template>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        <div class="modal fade updatePass" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">修改密码</h4>
                    </div>
                    <div class="modal-body">
                        <form>
                            <fieldset disabled>
                                <div class="form-group">
                                    <label for="exampleInputEmail1">账号</label>
                                    <input v-model="updatePassInfo.account" type="email" class="form-control"
                                           id="exampleInputEmail1" placeholder="账号">
                                </div>
                            </fieldset>

                            <div class="form-group ">
                                <label for="exampleInputPassword1">旧密码</label>
                                <input type="password" class="form-control" id="exampleInputPassword1"
                                       placeholder="旧密码">
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword12">新密码</label>
                                <input type="password" class="form-control" id="exampleInputPassword12"
                                       placeholder="新密码">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
    </div>
    <div class="slider-box">
        <div class="swiper-container slider-01">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <img src="">
                </div>
                <div class="swiper-slide">
                    <img src="">
                </div>
                <div class="swiper-slide">
                    <img src="">
                </div>
                <div class="swiper-slide">
                    <img src="">
                </div>
                <div class="swiper-slide">
                    <img src="">
                </div>
            </div>
        </div>
    </div>
    <div class="context-box">
        <div class="context-box-title">
            <div class="left-typeList">
                <ul>
                    <li v-for="type in goodsType">
                        <a @click="getGoodsByTypeId(type.id)">{{type.typename}}</a>
                    </li>
                </ul>
            </div>
            <div class="right-key">
                <el-input
                        placeholder="请输入商品名称"
                        prefix-icon="el-icon-search"
                        @input="searchGoodsByGoods(searchGoodsKey)"
                        v-model="searchGoodsKey">
                </el-input>
            </div>
        </div>
        <div class="content-goods-list">
            <ul>
                <li v-for="goods in allGoods">
                    <!--<a :href="'www.baidu.com?query='+xxx">12334</a>-->
                    <a :href="'goods/getGoodsById?gid='+goods.id">
                        <div class="goodsName">{{goods.goodsName}}</div>
                        <div class="img-box">
                            <img :src="goods.goodsImages[0].imgUrl">
                        </div>
                        <div class="goods-price">
                            <p>¥{{goods.goodsPrice}}</p>
                        </div>
                        <div class="goods-text">
                            {{goods.goodsText}}
                        </div>
                        <div class="goods-data">
                            发布日期:{{goods.goodsDate}}
                        </div>
                        <div class="goods-user">
                            <span @mouseover="mouseover"
                                  @mouseleave="mouseLeave">发布用户:{{goods.userHandImg.userAccount}}</span>
                            <div class="goods-user-info" ref="showUserInfoImage">
                                <div class="goods-user-img">
                                    <img :src="goods.userHandImg.headImage.url">
                                </div>
                                <div class="goods-user-userAccount">
                                    用户名:{{goods.userHandImg.userAccount}}
                                </div>
                                <div class="goods-user-phone">
                                    手机号:{{goods.userHandImg.phone}}
                                </div>
                                <div class="goods-user-email">
                                    邮箱:{{goods.userHandImg.email}}
                                </div>
                            </div>
                        </div>
                        <div class="goods-start">
                            <el-rate v-model="goods.goodsStart" show-text></el-rate>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
        <div class="pageBtn-box">
            <div class="page-box-context">
                <el-pagination
                        background
                        layout="prev, pager, next"
                        @prev-click="changePages('l')"
                        @next-click="changePages('n')"
                        @current-change="sendPageSize"
                        :current-page="pageInfos.pageNum"
                        ref="pagination"
                        :total="pageInfos.pages*10">
                </el-pagination>
            </div>
        </div>
    </div>
    <div class="footer-box">
        <!--<h1>底部版权信息以及网站介绍相关(待开发中).....</h1>-->
    </div>
    <div class="left-tools-box">
        <div class="left-tools-box-title">
            买家评论
        </div>
        <div class="left-tools-box-title-item">
            <div class="swiper-container slider-02">
                <div class="swiper-wrapper">
                    <!--<div class="swiper-slide" v-for="g in goodsComments">
                        <div><img :src="g.url"></div>
                        <div class="userComments">{{g.userAccount}}：{{g.goodsText}}</div>
                    </div>-->
                    <div class="swiper-slide">
                        <div><img
                                src="https://apple-shop-all-images.oss-cn-beijing.aliyuncs.com/userHeaderImages/b883543b-ee1c-4a60-83b9-2ca2dd34e5d4.jpeg">
                        </div>
                        <div class="userComments">zhangsan：手机到手后是全新无拆机的</div>
                    </div>
                    <div class="swiper-slide">
                        <div><img
                                src="https://apple-shop-all-images.oss-cn-beijing.aliyuncs.com/userHeaderImages/59c7fe86-61f5-4bee-aa5e-700b923673bb.jpg">
                        </div>
                        <div class="userComments">admin：外形外观：外形外观真的超级好看，</div>
                    </div>
                    <div class="swiper-slide">
                        <div><img
                                src="https://apple-shop-all-images.oss-cn-beijing.aliyuncs.com/userHeaderImages/6ad2ba81-6f9c-4b90-9a03-0863efa3f551.jpeg">
                        </div>
                        <div class="userComments">xixi：待机时间：很棒 运行速度：865够用</div>
                    </div>
                    <div class="swiper-slide">
                        <div><img
                                src="https://apple-shop-all-images.oss-cn-beijing.aliyuncs.com/userHeaderImages/b948f484-73bb-44b6-b1cf-c47752bd0e83.jpg">
                        </div>
                        <div class="userComments">lixi：哇哦，真的是一款很不错的手机</div>
                    </div>
                    <div class="swiper-slide">
                        <div><img
                                src="http://apple-shop-all-images.oss-cn-beijing.aliyuncs.com/userHeaderImages/morenImageHead.png">
                        </div>
                        <div class="userComments">zhangshiqi：手机收到真的太好看了</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    var vm = new Vue({
        el: '#app',
        data: {
            updatePassInfo: {
                account: 'zhangsan',
                oldPass: '',
                newPass: ''
            },
            orderTable: [{
                goodsName: 'iphone',
                imgUrl: 'https://apple-shop-all-images.oss-cn-beijing.aliyuncs.com/goodsImages/00e40d61-90b2-4475-8f23-465076f0edbe.jpg',
                goodsPrice: 5999.0,
                goodsDate: '2022-01-16 19:04:36',
                orderNum: 'bb0cfd39-c5f4-11ec-8834-a0b3ccf77983',
                buyTime: '2022-01-16 19:04:36',
                account: 'zhangsan',
                phone: '13359490766'
            }],
            userOtherGoods: [],
            goodsComments: [
                {
                    userAccount: '',
                    url: '',
                    goodsText: ''
                }
            ],
            searchGoodsKey: '',
            insertGoods: {
                goodsName: '',
                goodsPrice: '',
                goodsText: '',
                goodsStar: 3,
                goodsType: ""
            },
            goodsType: '',
            goodsForSlider: [],
            userInfo: {},
            userInfos: {},
            userData: {},
            userAddress: {},
            emailCode: "",
            allGoods: "",
            pageInfos: [],
            fullscreenLoading: false,
            drawer: false,
            value: 4
        },
        methods: {
            updatePass() {

            },
            orderShow() {
                let _this = this;
                $.ajax({
                    url: 'goods/orderShow',
                    type: 'get',
                    dataType: 'json',
                    success: function (data) {
                        _this.orderTable = data
                    }
                })
            },
            handleClick(row) {
                console.log(row);
            },
            showAllUserGoods() {
                let _this = this;
                $.ajax({
                    url: 'goods/showUserGoods',
                    type: 'get',
                    dataType: 'json',
                    success: function (data) {
                        _this.userOtherGoods = data
                        console.log(data)
                    }
                })
            },
            searchGoodsByGoods(name) {
                console.log(name)
                let _this = this;
                $.ajax({
                    url: 'goods/getGoodsByGoodsName',
                    type: 'get',
                    dataType: 'json',
                    data: {
                        goodsName: name
                    },
                    success: function (data) {
                        /*if(data.length<=0){
                            $(".content-goods-list").html('<h1>对不起，没有该商品！</h1>')
                        }*/
                        _this.allGoods = data
                        $(".pageBtn-box").fadeOut();
                    }
                })
            },
            searchGoodsByGoodsName: function () {
                let _this = this;
                $.ajax({
                    url: 'goods/getGoodsByGoodsName',
                    type: 'get',
                    dataType: 'json',
                    data: {
                        goodsName: $(".searchGoods").val()
                    },
                    success: function (data) {
                        if (data.length <= 0) {
                            $(".content-goods-list").html('<h1>对不起，没有该商品！</h1>')
                        }
                        _this.allGoods = data
                        $(".pageBtn-box").fadeOut();
                    }
                })
            },
            insertGoodsInfos: function () {
                let inputBox = $(".checkGoods")
                let flag = true
                for (let i = 0; i < inputBox.length; i++) {
                    if (inputBox[i].value == "" || inputBox[i].value == undefined || inputBox[i].value == null) {
                        flag = false
                    }
                }
                if (flag === false) {
                    this.$notify({
                        title: '商品信息不能为空哦!',
                        message: '对不起!商品信息不能为空哦!!!!',
                        type: 'warning'
                    });
                } else {
                    const loading = this.$loading({
                        lock: true,
                        text: '商品发布中,请稍等...',
                        spinner: 'el-icon-loading',
                        background: 'rgba(0, 0, 0, 0.7)'
                    });
                    let _this = this
                    let formData = new FormData();
                    for (let j = 0; j < $(".fileImages")[0].files.length; j++) {
                        formData.append("file", $(".fileImages")[0].files[j]);
                    }
                    formData.append("goodsName", _this.insertGoods.goodsName)
                    formData.append("goodsPrice", _this.insertGoods.goodsPrice)
                    formData.append("goodsText", _this.insertGoods.goodsText)
                    formData.append("goodsStar", _this.insertGoods.goodsStar)
                    formData.append("goodsType", _this.insertGoods.goodsType)
                    $.ajax({
                        url: "goods/pushGoods",
                        type: "post",
                        data: formData,
                        processData: false, // 告诉jQuery不要去处理发送的数据
                        contentType: false, // 告诉jQuery不要去设置Content-Type请求头
                        dataType: 'text',
                        success: function (data) {
                            console.log(data)
                            if ('ok' === data) {
                                $(".insertGoods").modal('hide')
                                _this.$notify({
                                    title: '发布成功!',
                                    message: '恭喜您,商品发布成功!',
                                    type: 'success'
                                });
                            } else {
                                this.$notify({
                                    title: '发布失败!',
                                    message: '对不起,商品发布失败!',
                                    type: 'warning'
                                });
                            }
                        }
                    });
                    setTimeout(() => {
                        loading.close();
                    }, 1500);
                }
            },
            getGoodsByTypeId: function (id) {
                let _this = this
                $.ajax({
                    url: 'goods/getGoodsByTypeId',
                    type: 'get',
                    dataType: 'json',
                    data: {
                        typeId: id
                    },
                    success: function (data) {
                        _this.allGoods = data
                        $(".pageBtn-box").fadeOut();
                    }
                })
            },
            sendPageSize: function () {
                let currentPage = this.$refs.pagination.internalCurrentPage;
                var _this = this;
                $.ajax({
                    url: 'goods/getAllGoodsAndGoodsUserAndUserHeadUrl',
                    type: 'get',
                    dataType: 'json',
                    data: {
                        pn: currentPage
                    },
                    success: function (data) {
                        _this.pageInfos = data
                        _this.allGoods = data.list
                    }
                })
            },
            changePages: function (flag) {
                var pageNumber;
                var _this = this;
                if ('l' === flag) {
                    pageNumber = this.pageInfos.prePage;
                } else if ('n' === flag) {
                    pageNumber = this.pageInfos.nextPage;
                }
                $.ajax({
                    url: 'goods/getAllGoodsAndGoodsUserAndUserHeadUrl',
                    type: 'get',
                    dataType: 'json',
                    data: {
                        pn: pageNumber
                    },
                    success: function (data) {
                        _this.pageInfos = data
                        _this.allGoods = data.list
                    }
                })
            },
            mouseover: function (e) {
                e.target.style.color = 'red'
                e.currentTarget.nextElementSibling.style.display = 'block'
            },
            mouseLeave: function (e) {
                e.target.style.color = 'black'
                e.currentTarget.nextElementSibling.style.display = 'none'
            },
            checkEmailCode: function () {
                if (this.$refs.getCode.value === this.emailCode && this.$refs.getCode.value != "" && this.emailCode != "") {
                    this.$notify({
                        title: '验证码正确',
                        message: '唯女人与英雄难过也,唯对象与工作难找也!验证码正确!',
                        type: 'success'
                    });
                } else if (this.$refs.getCode.value === "") {
                    this.$notify({
                        title: '警告,验证码不能为空',
                        message: '药不医假病,酒不解真愁!宝贝,验证码不能为空!',
                        type: 'warning'
                    });
                } else {
                    this.$notify.error({
                        title: '验证码错误',
                        message: '黄瓜在于拍,人生在于嗨!验证码错误!请重新输入....',
                        type: 'warning'
                    });
                }
            },
            sendEmail: function () {
                let _this = this
                $.ajax({
                    url: 'sendEmail',
                    type: 'get',
                    data: {
                        UserEmail: _this.userInfo.email
                    },
                    success: function (data) {
                        _this.emailCode = data
                    }
                })
            },
            sendUserAddress: function () {
                let _this = this
                let userAddressInfo = JSON.stringify(_this.userAddress);
                $.ajax({
                    type: "post",
                    url: "getUserAddress",
                    data: userAddressInfo,
                    contentType: "application/json;charset=utf-8",
                    success: function (data) {
                        if ("ok" === data) {
                            const loading = _this.$loading({
                                lock: true,
                                text: '地址信息正在提交中,爱你呦小宝贝!',
                                spinner: 'el-icon-loading',
                                background: 'rgba(0, 0, 0, 0.7)'
                            });
                            setTimeout(() => {
                                loading.close();
                                _this.$notify({
                                    title: '地址添加成功!!!',
                                    message: '喜欢的姑娘是别人的，不喜欢的姑娘也他妈是别人的。恭喜你,地址添加成功!!!',
                                    type: 'success'
                                });
                            }, 2000);
                        }
                    }
                })
            },
            getUserData: function () {
                let _this = this
                $.ajax({
                    url: "getUserDataByUserId",
                    type: "get",
                    success: function (date) {
                        console.log(date)
                        _this.userData = date
                    }
                })
            },
            sendUserInfos: function () {
                let _this = this
                let user = JSON.stringify(_this.userInfos);
                $.ajax({
                    type: "put",
                    url: "updateUserInfos",
                    data: user,
                    contentType: "application/json;charset=utf-8",
                    success: function (date) {
                        const loading = _this.$loading({
                            lock: true,
                            text: '您的基础资料正在提交中,爱你呦小宝贝!',
                            spinner: 'el-icon-loading',
                            background: 'rgba(0, 0, 0, 0.7)'
                        });
                        setTimeout(() => {
                            loading.close();
                            _this.$notify({
                                title: '恭喜您,基础资料修改成功',
                                message: '一生败在太要脸，爱钱爱得不明显!恭喜你小可爱,基础资料修改成功!!!!',
                                type: 'success'
                            });

                            _this.userInfos = date
                        }, 2000);
                    }
                })
            },
            showSelfInfos: function () {
                let _this = this
                $.ajax({
                    type: "get",
                    url: "getUserInfos",
                    success: function (date) {
                        console.log(date)
                        _this.userInfos = date
                    }

                })
                console.log("asdk")
            },
            sendUserInfo: function () {
                let inputBox = $(".checkEmpty")
                let flag = true
                for (let i = 0; i < inputBox.length; i++) {
                    if (inputBox[i].value == "" || inputBox[i].value == undefined || inputBox[i].value == null) {
                        flag = false
                    }
                }
                if (flag === false) {
                    this.$notify({
                        title: '注册信息不能为空呦!',
                        message: '宝儿,你的头发好香呦!注册信息不能为空呀!!!!',
                        type: 'warning'
                    });
                } else {
                    let _this = this;
                    let userInfo = _this.userInfo
                    let user = JSON.stringify(userInfo);
                    $.ajax({
                        type: "POST",
                        url: "getUserInfo",
                        data: user,
                        contentType: "application/json;charset=utf-8",
                        success: function (data) {
                            if (data === 'ok') {
                                _this.$notify({
                                    title: '注册成功',
                                    message: '恭喜您注册成功!快去登录并完善你的基本信息叭!!!!',
                                    type: 'success'
                                });
                                $(".userSign").modal('hide')
                            } else {
                                _this.$notify.error({
                                    title: '注册失败',
                                    message: '对不起,小可爱,您注册账号失败!注册账号也要讲究天时,地利,人和呀!!!'
                                });
                            }
                        }
                    })
                }

            },
            upLoadUserImg: function () {
                let _this = this
                let formData = new FormData();
                formData.append("file", $(".fileInputImg")[0].files[0]);
                $.ajax({
                    url: "userImgUpload",
                    type: "put",
                    data: formData,
                    processData: false, // 告诉jQuery不要去处理发送的数据
                    contentType: false, // 告诉jQuery不要去设置Content-Type请求头
                    dataType: 'text',
                    success: function (data) {
                        if (data !== 'no') {
                            $("#userHeadImages").attr("src", data);
                            _this.$message({
                                showClose: true,
                                message: '恭喜你，头像修改成功!!!!',
                                type: 'success'
                            });
                        } else {
                            _this.$message({
                                showClose: true,
                                message: '警告哦,头像修改失败!!!!',
                                type: 'warning'
                            });
                        }
                    }
                });
            }
        },
        mounted: function () {
            /*const loading = this.$loading({
                lock: true,
                text: '小宝贝,系统正在拼命加载中,请稍等几秒钟嘛....',
                spinner: 'el-icon-loading',
                background: 'rgba(0, 0, 0, 0.7)'
            });
            setTimeout(() => {
                loading.close();
            }, 6000);*/
            let _this = this;
            $.ajax({
                url: 'goods/goodsComments',
                dataType: 'json',
                type: 'get',
                success: function (data) {
                    console.log(data)
                    _this.goodsComments = data
                }
            });
            $.ajax({
                url: 'getAllGoodsType',
                dataType: 'json',
                type: 'get',
                success: function (data) {
                    _this.goodsType = data
                }
            });
            $.ajax({
                url: 'goods/getAllGoodsAndGoodsUserAndUserHeadUrl',
                type: 'get',
                dataType: 'json',
                data: {
                    pn: 1
                },
                success: function (data) {
                    _this.pageInfos = data
                    _this.allGoods = data.list
                }
            });
            $.ajax({
                url: 'goods/getSliderGoods',
                type: 'get',
                dataType: 'json',
                success: function (data) {
                    _this.goodsForSlider = data
                    for (let i = 0; i < _this.goodsForSlider.length; i++) {
                        for (let j = 0; j < _this.goodsForSlider[i].goodsImages.length; j++) {
                            // console.log(_this.goodsForSlider[i].goodsImages[0].imgUrl)
                            $(".slider-01 .swiper-wrapper .swiper-slide img")[i].src = _this.goodsForSlider[i].goodsImages[0].imgUrl
                        }
                    }
                }
            });
        }
    });
    $(document).ready(function () {
        // updatePassBtn  updatePass
        $(".updatePassBtn").click(function () {
            $(".updatePass").modal('show')
        })
        $(".order_goods").click(function () {
            $(".showOrder").modal('show')
        })
        $(".showAllUserGoods").click(function () {
            $(".showUserGoods").modal('show')
        })
        $(".showPushGoods").click(function () {
            $(".insertGoods").modal('show')
        })
        $(".insertAddress").click(function () {
            $(".userAddress").modal('show')
        })
        $(".gotop").bind("click", function () {
            $('html, body').animate({scrollTop: 0}, 300);
        });

        $(".checkUserInfo").click(function () {
            $(".checkUserInfos").modal('show')
        })
        $(".signBtn").click(function () {
            $(".userSign").modal('show')
        })
        $('[data-toggle="tooltip"]').tooltip()
        $(".btnSelf").click(function () {
            $(".userInfoMo").modal('show')
        })
        $(".personal-center").click(function () {
            $.ajax({
                url: "getUserHeadImage",
                type: 'get',
                success: function (data) {
                    $("#userHeadImages").attr("src", data);
                }
            })
        })
    });
</script>
<script src="js/swiper-3.4.2.min.js"></script>
<script>

    let swiper1 = new Swiper('.slider-01', {
        pagination: '.swiper-pagination',
        effect: 'coverflow',
        grabCursor: true,
        centeredSlides: true,
        slidesPerView: 'auto',
        autoplay: 500,
        coverflow: {
            rotate: 50,
            stretch: 0,
            depth: 50,
            modifier: 1,
            slideShadows: true
        }
    });
    var swiper = new Swiper('.slider-02', {
        loop: true, // 循环模式选项
        direction: 'vertical', // 垂直切换选项
        slidesPerView: 5,
        autoplay: {
            delay: 1000,//1秒切换一次
        },
    });
</script>
<script>
    // 禁止查看源代码
    window.onload = function () {
        /*document.onkeydown=function(){
            var e=window.event||arguments[0];
            if(e.keyCode==123){
                alert("小样你想干嘛？");
                return false;
            }else if((e.ctrlKey)&&(e.shiftKey)&&(e.keyCode==73)){
                alert("还是不给你看。。");
                return false;
            }
        };
        document.oncontextmenu=function(){
            alert("小样不给你看");
            return false;
        }*/
    }
    $(window).scroll(function () {
        if ($(document).scrollTop() >= $(document).height() - $(window).height() - 300) {
            $(".left-tools-box").fadeOut(1000);
        } else {
            $(".left-tools-box").fadeIn(1000);
        }
    });
</script>
</body>
</html>